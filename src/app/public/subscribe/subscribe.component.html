<div id="main" class="main">
  <div class="container-m text-center">
    <div class="home hero-2"><!-- Hero Section-->
      <form class="example-form" [formGroup]="form" *ngIf="mode=='subscribe'">
        <h1 class="text-primary">{{"public.register.title" | translate}}</h1>
        <div class="row">
          <div class="col-md-4">
            <mat-form-field class="example-full-width" appearance="fill">
              <mat-label f>{{"user.profile.email" | translate}}</mat-label>
              <input matInput formControlName="username">
              <mat-error>
                {{"user.profile.errors.usernameError" | translate}}
              </mat-error>
            </mat-form-field>
          </div>
          <div class="col-md-4">
            <mat-form-field class="example-full-width" appearance="fill">
              <mat-label>{{"user.profile.name" | translate}}</mat-label>
              <input matInput formControlName="name">
              <mat-error>
                {{"user.profile.errors.nameError" | translate}}
              </mat-error>
            </mat-form-field>
          </div>
          <div class="col-md-4">
            <mat-form-field appearance="fill">
              <mat-label>{{"user.profile.categories" | translate}}</mat-label>
              <select matNativeControl formControlName="category">
                <option *ngFor="let category of loadedCategries" selected
                        [value]=category.id>{{category.categoryName}}</option>
              </select>
              <mat-error>
                {{"user.profile.errors.categoryError" | translate}}
              </mat-error>
            </mat-form-field>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <mat-form-field class="example-full-width" appearance="fill">
              <mat-label>{{"user.profile.password" | translate}}</mat-label>
              <input matInput type="password" formControlName="password">
              <mat-error>
                {{"user.password.errors.currentPasswordError" | translate}}
              </mat-error>
            </mat-form-field>
          </div>
          <div class="col-md-6">
            <mat-form-field class="example-full-width" appearance="fill">
              <mat-label>{{"user.password.rePassword" | translate}}</mat-label>
              <input matInput type="password" formControlName="repassword">
              <mat-error>
                {{"user.password.errors.rePasswordError" | translate}}
              </mat-error>
            </mat-form-field>
          </div>
        </div>
        <div class="row">
          <div class="col">
            <mat-form-field class="example-full-width" appearance="fill">
              <mat-label>{{"user.profile.description" | translate}}</mat-label>
              <textarea matInput placeholder="We profide..." formControlName="description"></textarea>
              <mat-error>
                {{"user.profile.errors.categoryError" | translate}}
              </mat-error>
            </mat-form-field>
          </div>
        </div>

        <div class="row">
          <div class="col-md-4">
            <mat-select-country appearance="outline"
                                [value]="defaultValue"
                                formControlName="contry">
            </mat-select-country>
          </div>
          <div class="col-md-4">
            <mat-form-field class="example-full-width" appearance="fill">
              <mat-label>{{"user.profile.city" | translate}}</mat-label>
              <input matInput placeholder="Ex. Paris" formControlName="city">
              <mat-error>
                {{"user.profile.errors.cityError" | translate}}
              </mat-error>
            </mat-form-field>
          </div>
          <div class="col-md-4">
            <mat-form-field class="example-full-width" appearance="fill">
              <mat-label>{{"user.profile.postalCode" | translate}}</mat-label>
              <input matInput #postalCode maxlength="5" placeholder="Ex. 94105 " formControlName="postalCode">
              <mat-hint align="end">{{postalCode.value.length}} / 5</mat-hint>
              <mat-error>
                {{"user.profile.errors.postalCodeError" | translate}}
              </mat-error>
            </mat-form-field>
          </div>
        </div>

        <div class="row">
          <div class="col">
            <mat-form-field class="example-full-width" appearance="fill">
              <mat-label>{{"user.profile.adresse" | translate}}</mat-label>
              <textarea matInput placeholder="Ex. 100 Main St" formControlName="adress"></textarea>
              <mat-error>
                {{"user.profile.errors.adressError" | translate}}
              </mat-error>
            </mat-form-field>
          </div>
        </div>
        <button class="btn btn-primary" (click)="onSubscribe()"
                [disabled]="isLoading">{{"public.register.button" | translate}}</button>
        <mat-error *ngIf=errorMessage>
          {{errorMessage | translate}}
        </mat-error>
        <mat-progress-bar mode="indeterminate" *ngIf="isLoading"></mat-progress-bar>
      </form>

      <div *ngIf="mode=='success'" style="margin-top: 20px">
        <h1 class="text-info text-center">{{"public.register.messages.success_title" | translate}}</h1>
        <h4 class="text-center">{{"public.register.messages.success_description" | translate}}</h4>
      </div>
    </div>

  </div>


</div><!-- Hero End -->
